<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.tailwindcss.com"></script>
  <title>Financial Report</title>
</head>

<style>
  th {
    white-space: nowrap;
    padding: 4px 12px;
    font-weight: 500;
    --tw-text-opacity: 1;
    color: rgb(55 65 81/var(--tw-text-opacity));
  }

  td {
    white-space: nowrap;
    padding: 4px 12px;
    font-weight: 480;
    --tw-text-opacity: 1;
    color: rgb(107 114 128/var(--tw-text-opacity));
  }
</style>

<body>
  <div class="container mx-auto px-2 py-8">
    <!-- Start Header with Logo -->
    <div class="lg:flex lg:items-center lg:justify-between max-sm:grid max-sm:text-center max-sm:space-y-2 max-sm:mb-8">
      <div class="max-sm:flex justify-center">
        <img class="size-20 rounded-full ring-2 ring-white shadow-xl"
          src="https://i.ibb.co/4RkCZF4/txc-logo-frame-large.png" alt="txc-logo-frame-large" border="0">
      </div>
      <h2 class="text-2xl/7 font-bold text-gray-700 sm:truncate sm:text-4xl sm:tracking-tight">Weekly Financial Report</h2>
      <h5 class="text-2xl/7 font-semibold text-gray-700 sm:truncate sm:text-lg sm:tracking-tight"><%= date %>
      </h5>
    </div>
    <!-- End Header with Logo -->

    <!-- Start Header with Subscription -->
    <div class="grid lg:grid-cols-4 max-sm:grid-cols-2 space-x-10 my-2 max-sm:text-right font-semibold text-gray-700">
      <div class="max-sm:col-start-3">
        <p class="text-lg">Revenue: New: $<%= newRevenue %>, Total: $<%= totalRevenue %>(<%= revenueGrowth %>)%
        </p>
        <p class="text-lg">Hash: New: <%= newHash %>, Total: <%= totalHash %>(<%= hashGrowth %>)%
        </p>
        <p class="text-lg">Commission: New: $<%= newCommission %>, Total: $<%= totalCommission %>(<%= commissionGrowth %>)%
        </p>
      </div>
    </div>
    <!-- End Header with Subscription -->

    <!-- Start Sale Table -->
    <div class="relative overflow-x-auto">
      <table class="w-full text-left">
        <caption class="caption-top text-left text-2xl font-semibold text-gray-700">
          Sales
        </caption>
        <thead>
          <tr>
            <th>DATE</th>
            <th>BEVIS</th>
            <th>ID</th>
            <th>MINER</th>
            <th>PRODUCT</th>
            <th>PAYMENT</th>
            <th>AMOUNT</th>
            <th>HASH</th>
            <th>POINT</th>
          </tr>
        </thead>
        <tbody>
          <% sales.forEach(function(sale) { %>
            <tr class="odd:dark:bg-gray-200 even:dark:bg-gray-5 border-b">
              <td>
                <%= sale.orderedAt %>
              </td>
              <td>
                <%= sale.member.assetId %>
              </td>
              <td>
                <%= sale.ID %>
              </td>
              <td>
                <%= sale.member.fullName %>
              </td>
              <td>
                <%= sale.package.productName %>
              </td>
              <td>
                <%= sale.paymentMethod %>
              </td>
              <td>$ <%= sale.package.amount %>
              </td>
              <td>
                <%= sale.package.token %>
              </td>
              <td>
                <%= sale.package.point %>
              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>
    <!-- End Sale Table -->

    <!-- Start 1-2-Free Table -->
    <div class="relative overflow-x-auto">
      <table class="w-full text-left">
        <caption class="caption-top text-left text-2xl font-semibold text-gray-700">1-2-Free</caption>
        <thead>
          <tr>
            <th>DATE</th>
            <th>BEVIS</th>
            <th>ID</th>
            <th>MINER</th>
            <th>PRODUCT</th>
            <th>HASH</th>
          </tr>
        </thead>
        <tbody>
          <tr class="odd:dark:bg-gray-200 even:dark:bg-gray-5 border-b">
            <% freeSales.forEach(function(sale) { %>
              <tr class="odd:dark:bg-gray-200 even:dark:bg-gray-5 border-b">
                <td>
                  <%= sale.orderedAt %>
                </td>
                <td>
                  <%= sale.member.assetId %>
                </td>
                <td>
                  <%= sale.ID %>
                </td>
                <td>
                  <%= sale.member.fullName %>
                </td>
                <td>
                  <%= sale.package.productName %>
                </td>
                <td>
                  <%= sale.package.token %>
                </td>
              </tr>
              <% }) %>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- End 1-2-Free Table -->

    Total Hash: <%= freeTotalHash %>

    <!-- Start Binary Commissions Table -->
    <div class="relative overflow-x-auto mt-16">
      <table class="w-full text-left">
        <caption class="caption-top text-left text-2xl font-semibold text-gray-700">Rapid Rewards</caption>
        <thead>
          <tr>
            <th width="150">DATE</th>
            <th width="150">BEVIS</th>
            <th width="150">ID</th>
            <th width="300">MINER</th>
            <th width="120">BEG</th>
            <th width="120">NEW</th>
            <th width="120">MAX</th>
            <th width="120">PACKAGE</th>
            <th width="120">END</th>
            <th width="150">COMMISSION</th>
            <th>BOGO</th>
            <th>NOTE</th>
          </tr>
        </thead>
        <tbody>
          <% commissions.forEach(function(cms) { %>
            <tr class="odd:dark:bg-gray-200 even:dark:bg-gray-5 border-b">
              <td>
                <%= cms.date %>
              </td>
              <td>
                <%= cms.assetId %>
              </td>
              <td>
                <%= cms.ID %>
              </td>
              <td>
                <%= cms.fullName %>
              </td>
              <td>L<%= cms.begL %>, R<%= cms.begR %>
              </td>
              <td>L<%= cms.newL %>, R<%= cms.newR %>
              </td>
              <td>L<%= cms.maxL %>, R<%= cms.maxR %>
              </td>
              <td>L<%= cms.pkgL %>, R<%= cms.pkgR %>
              </td>
              <td>L<%= cms.endL %>, R<%= cms.endR %>
              </td>
              <td>$ <%= cms.commission %>
              </td>
              <td style="display: flex; flex-direction: column;">
                <% cms.links.forEach(function(link) { %>
                  <a href="<%= link %>" target="_blank"><%= link %></a>
                  <% }) %>
              </td>
              <td>
                <%= cms.note %>
              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>
    <!-- End Binary Commissions Table -->

    <!-- Start Footer with Binary Commissions Table -->
    <div class=" grid lg:grid-cols-4 max-sm:grid-cols-2 space-x-10 items-center text-gray-700 mb-8 mt-2">
      <div class="lg:col-start-4 max-sm:col-start-2">
        <p class="text-lg font-semibold">Total Payout: $ <%= totalCommission %>
        </p>
      </div>
    </div>
    <!-- End Footer with Binary Commissions Table -->

    <!-- Start Top 10 Earners Table -->
    <div class="relative overflow-x-auto">
      <table class="w-full text-left">
        <caption class="caption-top text-left text-2xl font-semibold text-gray-700 mt-16 mb-2">Top 10 Earners</caption>
        <thead>
          <tr>
            <th>Earners</th>
            <th>Earnings</th>
          </tr>
        </thead>
        <tbody>
          <% top10Earners.forEach(function(earner) { %>
            <tr class="odd:dark:bg-gray-200 even:dark:bg-gray-5 border-b">
              <td>
                <%= earner.fullName %>
              </td>
              <td>$ <%= earner.earning %>
              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>
    <!-- End Top 10 Earners Table -->

    <!-- Start Top 10 Sponsors Table -->
    <div class="relative overflow-x-auto">
      <table class="w-full text-left">
        <caption class="caption-top text-left text-2xl font-semibold text-gray-700 mt-16 mb-2">Top 10 Sponsors</caption>
        <thead>
          <tr>
            <th>Sponsors</th>
            <th>#Sponsored</th>
          </tr>
        </thead>
        <tbody>
          <% top10Sponsors.forEach(function(sponsor) { %>
            <tr class="odd:dark:bg-gray-200 even:dark:bg-gray-5 border-b">
              <td>
                <%= sponsor.fullName %>
              </td>
              <td>
                <%= sponsor.sponsor %>
              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>
    <!-- End Top 10 Sponsors Table -->
  </div>
</body>

</html>